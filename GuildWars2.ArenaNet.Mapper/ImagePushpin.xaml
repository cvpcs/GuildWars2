<m:Pushpin x:Class="GuildWars2.ArenaNet.Mapper.ImagePushpin"
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
           xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
           xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
           xmlns:m="clr-namespace:Microsoft.Maps.MapControl.WPF;assembly=Microsoft.Maps.MapControl.WPF"
           xmlns:l="clr-namespace:GuildWars2.ArenaNet.Mapper"
           mc:Ignorable="d" 
           d:DesignHeight="20" d:DesignWidth="20"
           Width="20" Height="20"
           PositionOrigin="Center">
    <m:Pushpin.Template>
        <ControlTemplate>
            <Rectangle Width="{Binding Path=Width, RelativeSource={RelativeSource FindAncestor,AncestorType=m:Pushpin}}"
                            Height="{Binding Path=Height, RelativeSource={RelativeSource FindAncestor,AncestorType=m:Pushpin}}">
                <Rectangle.Fill>
                    <ImageBrush x:Name="ImagePushpinTemplateBrush"
                        ImageSource="{Binding Path=Image, RelativeSource={RelativeSource FindAncestor,AncestorType=l:ImagePushpin}}" />
                </Rectangle.Fill>
            </Rectangle>
        </ControlTemplate>
    </m:Pushpin.Template>
</m:Pushpin>
